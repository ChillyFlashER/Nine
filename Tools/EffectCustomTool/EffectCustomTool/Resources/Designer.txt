// -----------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by EffectCustomTool v{$VERSION}.
//     Runtime Version: {$RUNTIMEVERSION}
//
//     EffectCustomTool is a part of Engine Nine. (http://nine.codeplex.com)
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// -----------------------------------------------------------------------------

namespace {$NAMESPACE}
{
#if !WINDOWS_PHONE

    using System;
    using Microsoft.Xna.Framework;
    using Microsoft.Xna.Framework.Graphics;
#if SILVERLIGHT
    using Effect = Microsoft.Xna.Framework.Graphics.SilverlightEffect;
    using EffectParameter = Microsoft.Xna.Framework.Graphics.SilverlightEffectParameter;
    using EffectParameterCollection = Microsoft.Xna.Framework.Graphics.SilverlightEffectParametersCollection;
#endif

    [System.CodeDom.Compiler.GeneratedCode("Nine.Tools.EffectCustomTool", "{$VERSION}")]
    [System.Diagnostics.DebuggerStepThrough()]
    [System.Runtime.CompilerServices.CompilerGenerated()]
    partial class {$CLASS} : Effect
    {
        public {$CLASS}(GraphicsDevice graphics) 
#if !SILVERLIGHT
            : base(graphics, graphics.GraphicsProfile == GraphicsProfile.Reach ? ReachEffectCode :
                                                                                 HiDefEffectCode)
#else
            : base(graphics, ReachEffectCode)
#endif
        {{$CHECK}
            CacheEffectParameters(Parameters);

            OnCreated();
        }
        
#if !SILVERLIGHT
        /// <summary>
        /// Creates a new {$CLASS} by cloning parameter settings from an existing instance.
        /// </summary>
        protected {$CLASS}({$CLASS} cloneSource) : base(cloneSource)
        {{$CHECK}
            CacheEffectParameters(cloneSource.Parameters);

            OnCreated();

            CloneFrom(cloneSource);

            OnClone(cloneSource);
        }

        /// <summary>
        /// Creates a clone of the current {$CLASS} instance.
        /// </summary>
        public override Effect Clone()
        {
            return new {$CLASS}(this);
        }
#endif

        protected override void OnApply()
        {
            OnApplyChanges();

            ApplyChanges();

            base.OnApply();
        }

{$BODY}

        #region Structures
{$STRUCTS}
        #endregion

        #region ByteCode
        internal static byte[] ReachEffectCode = null;
        internal static byte[] HiDefEffectCode = null;

        static {$CLASS}()
        {
#if XBOX360
            ReachEffectCode = HiDefEffectCode = new byte[] 
            {
{$XBOXBYTECODE}
            };
#elif SILVERLIGHT
            ReachEffectCode = HiDefEffectCode = new byte[] 
            {
{$SILVERLIGHTBYTECODE}
            };
#else
            ReachEffectCode = new byte[] 
            {
{$WINDOWSBYTECODE}
            };
            HiDefEffectCode = {$WINDOWSHIDEFBYTECODE};
#endif
        }
        #endregion
    }

#endif
}
